# Plugin configuration file for GatewayD

# Possible values: "passdown" (default), "ignore", "abort" and "remove"
verificationPolicy: "passdown"
# Possible values: "strict" (default) and "loose"
compatibilityPolicy: "strict"

plugins:
  # Plugin name
  - name: gatewayd-plugin-test
    # whether to enable or disable the plugin on the next run
    enabled: True
    # path to the plugin's binary file
    localPath: ../gatewayd-plugin-test/gatewayd-plugin-test
    # Pass cmdline args to the plugin
    args: ["--log-level", "info"]
    # Pass environment variables to the plugin
    # System-wide environment variables are passed to the plugin normally
    # and they can be accessed via os.Environ().
    # Defining any environment variables below will override system-wide environment variables.
    env:
      # The below environment variables are used by the plugin loader to verify the plugin's identity.
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
    # Checksum hash to verify the binary before loading
    checksum: 477dcbb41a27ff4431a5a9bc50754ef8c5a477b62d45d43e3b801b121aa96651
  - name: gatewayd-plugin-cache
    enabled: True
    localPath: ../gatewayd-plugin-cache/gatewayd-plugin-cache
    args: ["--log-level", "debug"]
    env:
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
      - REDIS_ADDR=localhost:6379
    checksum: a0b62927f8330638a2b9a36d843580b784b927a12addb76eabb25d0cec7c6b57
