# Plugin configuration file for GatewayD

# Possible values: "passdown" (default), "ignore", "abort" and "remove"
verificationPolicy: "passdown"
# Possible values: "strict" (default) and "loose"
compatibilityPolicy: "strict"
# Possible values: "accept" (default) and "reject" 
acceptancePolicy: "accept"
metricsMergerPeriod: 5s

plugins:
  # Plugin name
  - name: gatewayd-plugin-test
    # whether to enable or disable the plugin on the next run
    enabled: False
    # path to the plugin's binary file
    localPath: ../gatewayd-plugin-test/gatewayd-plugin-test
    # Pass cmdline args to the plugin
    args: ["--log-level", "info"]
    # Pass environment variables to the plugin
    # System-wide environment variables are passed to the plugin normally
    # and they can be accessed via os.Environ().
    # Defining any environment variables below will override system-wide environment variables.
    env:
      # The below environment variables are used by the plugin loader to verify the plugin's identity.
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
    # Checksum hash to verify the binary before loading
    checksum: d19b71bc3b16169a5b960dc0c6dc4cfbe969774045c8925a4b21856e7f06b141
  - name: gatewayd-plugin-cache
    enabled: True
    localPath: ../gatewayd-plugin-cache/gatewayd-plugin-cache
    args: ["--log-level", "debug"]
    env:
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
      - REDIS_ADDR=localhost:6379
    checksum: b44303159cb3cbd7e6c03050b8fd86c7404ca96a2e8282076a34e2ada0e6191c
