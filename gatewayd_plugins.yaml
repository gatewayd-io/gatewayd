# Plugin configuration file for GatewayD

# Possible values: "passdown" (default), "ignore", "abort" and "remove"
verificationPolicy: "passdown"
# Possible values: "strict" (default) and "loose"
compatibilityPolicy: "strict"
# Possible values: "accept" (default) and "reject" 
acceptancePolicy: "accept"
metricsMergerPeriod: 5s

plugins:
  # Plugin name
  - name: gatewayd-plugin-test
    # whether to enable or disable the plugin on the next run
    enabled: False
    # path to the plugin's binary file
    localPath: ../gatewayd-plugin-test/gatewayd-plugin-test
    # Pass cmdline args to the plugin
    args: ["--log-level", "info"]
    # Pass environment variables to the plugin
    # System-wide environment variables are passed to the plugin normally
    # and they can be accessed via os.Environ().
    # Defining any environment variables below will override system-wide environment variables.
    env:
      # The below environment variables are used by the plugin loader to verify the plugin's identity.
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
    # Checksum hash to verify the binary before loading
    checksum: f69cfe091f75cd0597005357216507affae20e69845b9f4980999db97e5487e4
  - name: gatewayd-plugin-cache
    enabled: False
    localPath: ../gatewayd-plugin-cache/gatewayd-plugin-cache
    args: ["--log-level", "debug"]
    env:
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
      - REDIS_ADDR=localhost:6379
    checksum: c6cf26a4ec2d2a4496e1634692d306c518e36cf55f139d2d47ff554594c7252b
  - name: gatewayd-plugin-postgres-wire
    enabled: True
    localPath: ../gatewayd-plugin-postgres-wire/gatewayd-plugin-postgres-wire
    args: ["--log-level", "debug"]
    env:
      - MAGIC_COOKIE_KEY=GATEWAYD_PLUGIN
      - MAGIC_COOKIE_VALUE=5712b87aa5d7e9f9e9ab643e6603181c5b796015cb1c09d6f5ada882bf2a1872
    checksum: a1927a00e54def281adc8f43dc624a5260a1cbb8415ea2ebc24ef734617417a9
